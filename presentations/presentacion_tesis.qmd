---
pagetitle: "Presentaci√≥n Tesis 1"
Author: Ren√© Canales
lang: es
knitr:
  opts_chunk:
    collapse: true
    comment: "#>"
    R.options:
      
      knitr.graphics.auto_pdf: true
format:
  revealjs:
    #logo: images/puc.png
    slide-number: true
    theme: "libs/tesis.scss"
    auto-stretch: false
    title-slide-attributes:
      visibility: false
    transition: fade
    transition-speed: slow
# data-background-image: images/cover.jpg
# data-background-size: cover
    auto-play-media: true
    mathjax: "default"
  pdf:
    format: beamer 
    keep-tex: true  # Debug LaTeX output if needed
editor_options: 
  chunk_output_type: console
---

```{r}
#| label: setup
#| include: false
library(knitr)
knitr::opts_chunk$set(echo = F,
                      warning = F,
                      error = F, 
                      message = F) 

options(kableExtra.html.bsTable = T)
options(knitr.kable.NA = "")
```

```{r}
#| label: packages
#| include: false

if (! require("pacman")) install.packages("pacman")

pacman::p_load(tidyverse,
               sjmisc, 
               sjPlot,
               here,
               lavaan,
               psych,
               corrplot,
               ggdist,
               patchwork,
               sjlabelled,
               semTools,
               gtools,
               RColorBrewer,
               skimr,
               readxl, knitr,
               kableExtra)


options(scipen=999)
rm(list = ls())
```

```{r}
load("~/GitHub/protest_effects/output/data/ELSOC_Long_2016_2023 (3).RData")
```

:::::: columns
::: {.column width="20%"}
![](images/puc.gif)
:::

:::: {.column .column-right width="80%"}
# **Un an√°lisis longitudinal de los perfiles de protesta en el ciclo contencioso chileno (2016-2023)**

------------------------------------------------------------------------

**Ren√© Canales Sell√©s** <br> **Prof. Gu√≠a Nicol√°s Somma**

::: {.red2 .medium}
**Instituto de Sociolog√≠a, Pontificia Universidad Cat√≥lica de Chile**
:::

Fondecyt 1230922 "Actitudes y Comportamiento Pol√≠tico Juvenil: Desigualdad, estilos de socializaci√≥n escolar e influencias intergeneracionales"

20 de agosto, 2025
::::
::::::

# Contexto {data-background-color="#5f5758"}

## Antecedentes

::: {.incremental .highlight-last style="font-size: 85%;"}
-   En las √∫ltimas d√©cadas, la protesta se ha convertido en una forma central de participaci√≥n pol√≠tica en democracias contempor√°neas, asociada al desgaste de los canales institucionales y a la creciente legitimidad de la acci√≥n colectiva no convencional. Si bien estudios previos han identificado factores individuales que inciden en la decisi√≥n de participar en protestas, esta aproximaci√≥n resulta limitada para comprender la diversidad de trayectorias, intensidades y motivaciones que adoptan quienes se movilizan.

-   En el caso de Chile, la historia reciente est√° marcada por un ciclo sostenido de protestas (2006, 2011, 2019), lo que abre la necesidad de ir m√°s all√° de explicar por qu√© las personas protestan, y avanzar hacia el estudio de qui√©nes protestan, qu√© perfiles sociodemogr√°ficos y actitudinales configuran, c√≥mo var√≠an en el tiempo y de qu√© manera el involucramiento en pol√≠tica contenciosa repercute en otras formas de participaci√≥n pol√≠tica.

-   El problema de investigaci√≥n, entonces, radica en la falta de comprensi√≥n sobre los perfiles diferenciados de participaci√≥n pol√≠tica entre quienes protestan, sus trayectorias longitudinales y los factores que explican la heterogeneidad en su involucramiento.

-   Este vac√≠o motiva un an√°lisis longitudinal, en el contexto chileno, que permita identificar clases o patrones de evoluci√≥n en la participaci√≥n en protestas y comprender c√≥mo actitudes pol√≠ticas, recursos y orientaciones ideol√≥gicas influyen en la pertenencia a distintos perfiles de acci√≥n colectiva.
:::

## Pregunta y objetivos

::: {.incremental .highlight-last style="font-size: 120%;"}
-   ¬øQu√© perfiles de participaci√≥n pol√≠tica se observan a trav√©s del tiempo entre quienes se involucran en protestas en el contexto chileno? ¬øQu√© caracter√≠sticas individuales ‚Äîcomo actitudes pol√≠ticas, recursos disponibles, trayectorias previas u orientaci√≥n ideol√≥gica‚Äî permiten diferenciar estos perfiles, y como se transforman en el tiempo?
-   El objetivo general del estudio es identificar y caracterizar los distintos perfiles de personas que participan en protestas en Chile, analizando c√≥mo variables individuales configuran formas diferenciadas de involucramiento en la acci√≥n colectiva en distintos momentos del ciclo de protesta.
:::

# Datos y Metodolog√≠a {data-background-color="#5f5758"}

::: incremental
## Datos

Estudio Longitudinal Social de Chile (ELSOC): encuesta panel dise√±ada por el Centro de Estudios de Conflicto y Cohesi√≥n Social (COES) para analizar, a lo largo del tiempo, la evoluci√≥n del conflicto y la cohesi√≥n en la sociedad chilena. Su objetivo central es proveer un insumo emp√≠rico que permita comprender c√≥mo cambian las creencias, actitudes y percepciones de la ciudadan√≠a en torno a la convivencia social, la desigualdad y el conflicto.

```{r}
#| label: fig-muestra
#| fig-align: center
#| fig-cap: "Muestra final por ola"
#| fig-cap-location: top
#| fig-width: 7
#| out-width: '50%'

# Data frame
elsoc_muestra <- data.frame(
  Medicion = c(2016, 2017, 2018, 2019, 2021, 2022),
  Muestra_Original = c(2927, 2473, 2229, 2153, 1739, 1728),
  Muestra_Refresco = c(NA, NA, 1519, 1264, 1001, 1002)
) %>%
  mutate(
    Muestra_Final = Muestra_Original + coalesce(Muestra_Refresco, 0)
  )

# Tabla
kable(elsoc_muestra,
      col.names = c("Medici√≥n", "Muestra Original", "Muestra Refresco", "Muestra Final"),
      caption = "Muestra lograda por ola en ELSOC (2016-2022)")

```
:::

### N√∫mero de casos por Ola

```{r}
#| label: fig-n2
#| fig-align: center
#| fig-cap: "N por ola"
#| fig-cap-location: top
#| fig-width: 5
#| out-width: '20%'

tabla_ola <- elsoc_long_2016_2023 %>%
  group_by(ola) %>%
  summarise(
    N = n()
  ) %>%
  mutate(ola = ifelse(is.na(ola), "NA", as.character(ola)))

kable(tabla_ola,
      col.names = c("Ola", "N"),
      caption = "N√∫mero de casos por ola")
```

::: incremental
## M√©todos
### Construcci√≥n Tipolog√≠a Temporal

A√±o y Asistenica a protesta o manifestaci√≥n: <br> - Ola + Frecuencia de Asistencia a marcha o manifestaci√≥n (c08_02)

Asistencia a Marcha o Manifestaci√≥n: <br> - Escala de 1 a 5 (Nunca a Muy Frecuentemente)

```{r}
#| label: fig-n
#| fig-align: center
#| fig-cap: "Operacionalizaci√≥n Protesta"
#| fig-cap-location: top
#| fig-width: 5
#| out-width: '20%'

tabla <- data.frame(
  Variable = c(
    "Frecuencia: Asiste a marcha o manifestaci√≥n pac√≠fica",
    "c08_02: Durante los √∫ltimos 12 meses, ¬øcon cu√°nta frecuencia usted ha...?"
  ),
  Codigos = c(
    "0. No asiste<br>1. Asiste",
    "1. Nunca<br>2. Casi Nunca<br>3. A veces<br>4. Frecuentemente<br>5. Muy frecuentemente"
  )
)

kable(tabla,
      col.names = c("Variable / Pregunta", "Categor√≠as de Respuesta"),
      escape = FALSE,   # üëà muy importante para que <br> se interprete
      caption = "Tabla de variables y categor√≠as de respuesta")
```

::: incremental
## M√©todos
### LGMM: Latent Growth Mixture Modeling

Extensi√≥n de los modelos de crecimiento que se utiliza para analizar datos longitudinales. Permite  identificar subgrupos no observados (clases latentes) de individuos que siguen trayectorias de cambio diferentes entre s√≠.

En el estudio de participaci√≥n en protestas, un LGMM podr√≠a identificar:
- Clase 1: quienes nunca participan.
- Clase 2: quienes baja participaci√≥n al inicio pero creciente en el tiempo.
- Clase 3: quienes poseen una participaci√≥n sostenida

:::

::: incremental

###Ejemplo
```{r}
library(lcmm)
library(ggplot2)
library(dplyr)

set.seed(1234)

# ---------------------------
# 1. Simulaci√≥n clara de 3 clases
# ---------------------------
n <- 300
t <- 6
id <- rep(1:n, each = t)
time <- rep(0:(t-1), n)

# clases latentes "reales"
true_class <- sample(1:3, n, replace = TRUE, prob = c(0.33, 0.34, 0.33))

# par√°metros claros
intercepts <- c(5, 10, 15)
slopes <- c(1.0, 0.0, -0.8)  # una sube, una se mantiene, una baja

y <- unlist(lapply(1:n, function(i) {
  sapply(0:(t-1), function(tt) {
    mu <- intercepts[true_class[i]] + slopes[true_class[i]]*tt
    rnorm(1, mean = mu, sd = 0.8) # poca varianza ‚Üí trayectorias m√°s n√≠tidas
  })
}))

df <- data.frame(ID = id, time = time, y = y)

# ---------------------------
# 2. Modelo base (1 clase)
# ---------------------------
m1 <- hlme(fixed = y ~ time,
           random = ~ time,
           subject = "ID",
           ng = 1,
           data = df)

# ---------------------------
# 3. Modelo de 3 clases con gridsearch
# ---------------------------
m3 <- gridsearch(rep = 50, maxiter = 50, minit = m1,
                 hlme(fixed = y ~ time,
                      random = ~ time,
                      subject = "ID",
                      ng = 3,
                      mixture = ~ time,
                      nwg = TRUE,
                      data = df))

summary(m3)

# ---------------------------
# 4. Probabilidades y clases
# ---------------------------
pp <- postprob(m3)
df$Class <- factor(pp$class)

table(df$Class) / nrow(df) * 100   # proporci√≥n estimada por clase

# ---------------------------
# 5. Gr√°fico de trayectorias
# ---------------------------
ggplot(df, aes(x = time, y = y, group = ID, color = Class)) +
  geom_line(alpha = 0.05) +
  stat_summary(fun = mean, geom = "line", aes(group = Class, color = Class),
               size = 1.5) +
  theme_minimal() +
  labs(title = "Trayectorias promedio estimadas por clase (LGMM, 3 clases claras)",
       x = "Tiempo", y = "Outcome")
```


